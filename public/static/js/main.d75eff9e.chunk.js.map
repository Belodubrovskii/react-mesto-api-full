{"version":3,"sources":["components/Footer.js","components/Header.js","contexts/currentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/App.js","serviceWorker.js","index.js"],"names":["Footer","className","Header","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","_id","card","owner","isLiked","likes","some","item","onClick","onCardClick","alt","name","src","link","onCardLike","length","onCardDelete","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","type","noValidate","value","cards","map","key","PopupWithForm","isOpen","onSubmit","title","children","onClose","EditProfilePopup","useState","activity","setValue","handleChange","e","inputName","target","useEffect","preventDefault","onUpdateUser","onChange","id","placeholder","required","minLength","maxLength","pattern","EditAvatarPopup","inputAvatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","imageName","imageLink","ConfirmDeletePopup","selectedCard","ImagePopup","api","apiOptions","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","statusText","err","message","fetch","then","_handleResponse","catch","_handleResponseError","method","body","JSON","stringify","data","cardId","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isConfirmDeletePopupOpen","setConfirmDeletePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","userData","console","log","getInitialCards","Provider","i","changeLikeCardStatus","newCard","newCards","c","updateUserInfo","userInfo","updateAvatar","addCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.d75eff9e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Footer () {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction Header () {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/currentUserContext';\n\nfunction Card (props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = currentUser._id === props.card.owner._id;\n  const isLiked = props.card.likes.some(item => item._id === currentUser._id);\n\n  function handleClick () {\n    props.onCardClick(props.card);\n  }\n\n  return (\n  <div className=\"card\">\n    <img onClick={handleClick} className=\"card__image\" alt={`Фотография места ${props.card.name}`} src={props.card.link}/>\n    <div className=\"card__wrapper\">\n      <h3 className=\"card__subscription\">{props.card.name}</h3>\n      <div className=\"card__like-wrapper\">\n        <button onClick={() => {props.onCardLike(props.card)}} className={`card__like ${isLiked ? 'card__like_active' : ''}`} />\n        <span className=\"card__number-of-likes\">{props.card.likes.length}</span>\n      </div>\n      {isOwn && <button className=\"card__recycle-bin\" onClick={() => props.onCardDelete(props.card)}/>}\n    </div>\n  </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/currentUserContext';\n\nfunction Main (props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n          <button onClick={props.onEditAvatar} className=\"profile__avatar-edit\"></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button onClick={props.onEditProfile} className=\"profile__edit-btn\"></button>\n          <p className=\"profile__activity\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddPlace} className=\"profile__add-btn\" type=\"button\"></button>\n      </section>\n\n      <section className=\"popup popup_delete-card\">\n        <form className=\"popup__form\" noValidate>\n          <h4 className=\"popup__title popup__title_wihout-unput\">Вы уверены?</h4>\n          <input className=\"popup__button\" type=\"submit\" value=\"Да\"/>\n          <button className=\"popup__close-button\" type=\"button\"></button>\n        </form>\n      </section>\n\n      <section className=\"cards\">\n        {props.cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction PopupWithForm (props) {\n  return (\n    <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n    <form onSubmit={props.onSubmit} className=\"popup__form\" name={props.name}>\n      <h4 className=\"popup__title\">{props.title}</h4>\n      {props.children}\n      <input className=\"popup__button\" type=\"submit\" value={props.value} />\n      <button onClick={props.onClose} className=\"popup__close-button\" type=\"button\" />\n    </form>\n  </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/currentUserContext';\n\nfunction EditProfilePopup (props) {\n\n  const [value, setValue] = React.useState({name: '', activity: ''});\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChange (e) {\n    const inputName = e.target.name;\n    setValue({...value, [inputName]: e.target.value})\n  }\n\n  function handleSubmit (e) {\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser(value.name, value.activity)\n  }\n\n  React.useEffect(() => {\n    setValue({name: currentUser.name, activity: currentUser.about})\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" value=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={value.name}\n        onChange={handleChange}\n        className=\"popup__input popup__form-name\"\n        type=\"text\"\n        name=\"name\"\n        id=\"name-input\"\n        placeholder=\"Имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        pattern=\"[А-ЯЁа-яёA-Za-z -]{1,}\"\n      />\n      <span className=\"popup__error\" id=\"name-input-error\"></span>\n      <input\n        value={value.activity}\n        onChange={handleChange}\n        className=\"popup__input popup__form-activity\"\n        type=\"text\"\n        name=\"activity\"\n        id=\"activity-input\"\n        placeholder=\"Занятие\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        pattern=\"[А-ЯЁа-яёA-Za-z -]{1,}\"\n      />\n      <span className=\"popup__error\" id=\"activity-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup (props) {\n\n  const inputAvatarRef = React.useRef();\n\n  React.useEffect(() => {\n    inputAvatarRef.current.value = '';\n  }, [props.isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar(inputAvatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm name=\"edit-avatar\" title=\"Обновить аватар\" value=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={inputAvatarRef}\n        className=\"popup__input popup__form-image-link\"\n        type=\"url\"\n        name=\"avatar\"\n        id=\"link-input\"\n        placeholder=\"Ссылка на новый аватар\"\n        required\n      />\n      <span className=\"popup__error\" id=\"link-input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup (props) {\n\n  const imageName = React.useRef();\n  const imageLink = React.useRef();\n\n  React.useEffect(() => {\n    imageName.current.value = '';\n    imageLink.current.value = '';\n  }, [props.isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({name: imageName.current.value, link: imageLink.current.value});\n    imageName.current.value = '';\n    imageLink.current.value = '';\n    props.onClose();\n  }\n\n  return (\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" value=\"Добавить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={imageName}\n        className=\"popup__input popup__form-image-title\"\n        type=\"text\"\n        name=\"name\"\n        id=\"title-input\"\n        placeholder=\"Название\"\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n      />\n      <span className=\"popup__error\" id=\"title-input-error\"></span>\n      <input\n        ref={imageLink}\n        className=\"popup__input popup__form-image-link\"\n        type=\"url\"\n        name=\"link\"\n        id=\"link-input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n      />\n      <span className=\"popup__error\" id=\"link-input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmDeletePopup (props) {\n\n  const {isOpen, onClose, onCardDelete, selectedCard} = props;\n\n  function handleSubmit (e) {\n    e.preventDefault();\n\n    onCardDelete(selectedCard);\n  }\n\n  return (\n    <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" value=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n\n  );\n}\n\nexport default ConfirmDeletePopup;\n","import React from 'react';\n\nfunction ImagePopup (props) {\n  return (\n  <section className={`popup popup_photo ${props.isOpen ? 'popup_opened' : ''}`}>\n    <div className=\"popup__container\">\n      <img className=\"popup__image\" alt={`Фотография места ${props.selectedCard.name}`} src={props.selectedCard.link} />\n      <p className=\"popup__image-subscription\">{props.selectedCard.name}</p>\n      <button onClick={props.onClose} className=\"popup__close-button\" type=\"button\" />\n    </div>\n  </section>\n  );\n}\n\nexport default ImagePopup;\n"," import {apiOptions} from './utils.js'\n\n class Api {\n  constructor({apiOptions}) {\n    this._baseUrl = apiOptions.baseUrl;\n    this._headers = apiOptions.headers;\n  }\n\n  _handleResponse(res){\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.statusText)\n    }\n  }\n\n  _handleResponseError(err){\n\n    return Promise.reject(err.message)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError);\n  }\n\n  getUserInfo () {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n\n  updateUserInfo (name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers:\n        this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n\n  addCard (data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers:\n        this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n\n  deleteCard (cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers:\n        this._headers,\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n\n  changeLikeCardStatus (cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers:\n        this._headers,\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n\n  updateAvatar (imageLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers:\n        this._headers,\n      body: JSON.stringify({\n        avatar: imageLink,\n      })\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError);\n  }\n}\n\nexport const api = new Api({apiOptions});\n\n","export const apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: 'cf96bb80-c649-4955-9349-d912842c7606',\n    'Content-Type': 'application/json'\n  }\n}\n","import React from 'react';\nimport Footer from './Footer';\nimport Header from './Header'\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/currentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setConfirmDeletePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({name: '', about: ''});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(userData => {\n        setCurrentUser(userData);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  },[])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(data => {\n        setCards(data);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  },[])\n\n  function handleEditAvatarClick () {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick () {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick () {\n    setAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups () {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmDeletePopupOpen(false);\n    setImagePopupOpen(false)\n  }\n\n  function handleCardClick (card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleUpdateUser (name, activity) {\n    api.updateUserInfo(name, activity)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleUpdateAvatar (avatar) {\n    api.updateAvatar(avatar)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleCardDeleteClick(card) {\n    setSelectedCard(card);\n    setConfirmDeletePopupOpen(true);\n  }\n\n  function hadleCardDelete(card) {\n\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => {\n          return  c._id !== card._id;\n        })\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleCardLike(card) {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleAddPlaceSubmit (card) {\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard,...cards])\n      })\n      .catch(err => console.log(`Ошибка: ${err}`));\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDeleteClick}\n          cards={cards}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <ConfirmDeletePopup\n          isOpen={isConfirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={hadleCardDelete}\n          selectedCard={selectedCard}\n        />\n\n        <ImagePopup selectedCard={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen}/>\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}